Проектная работа "Веб-ларек" https://github.com/SalavatNasibullin/web-larek-frontend.git

Стек: HTML, SCSS, TS, Webpack


Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Описание проекта
1. Проект WebLarek представляет собой веб-приложение для интернет-магазина, которое позволяет пользователям просматривать товары, добавлять их в корзину, оформлять заказы и выбирать способы оплаты. 

Модели (DataModel, BasketModel, FormModel) управляют данными и бизнес-логикой.

Представления (Card, Basket, Modal) отвечают за отображение интерфейса.

EventEmitter связывает компоненты через события.

WebLarekApi обеспечивает работу с сервером.

## Архитектура
2. Используемый паттерн проектирования
В проекте применён паттерн MVP (Model-View-Presenter), который является модификацией паттерна MVC:

Model — отвечает за данные и бизнес-логику.

View — отображает интерфейс и передает события пользователя.

Presenter — управляет взаимодействием между Model и View, обрабатывает события.

Преимущества выбранного подхода:
Чёткое разделение логики и представления.

Гибкость при изменении интерфейса или бизнес-логики.

Удобное тестирование компонентов.


## Компоненты
3. Классы Model (Модели данных)

`DataModel (DataModel.ts)`

Задача: Управление данными о товарах.

Атрибуты:

productCards: Goods[] — массив товаров в каталоге.

currentItem: Goods — текущий выбранный товар.

Методы:

set productCards(data: Goods[]) — обновляет список товаров.

get productCards() — возвращает список всех товаров.

showItemDetails(item: Goods) — устанавливает текущий товар и открывает его подробности.

`BasketModel (BasketModel.ts)`

Задача: Управление корзиной покупок.

Атрибуты:

basketProducts: Goods[] — массив товаров в корзине.

Методы:

getCounter() — возвращает количество товаров в корзине.

getSumAllProducts() — вычисляет общую стоимость товаров в корзине.

setSelectedCard(data: Goods) — добавляет товар в корзину (без дублирования).

removeFromBasket(item: Goods) — удаляет товар из корзины по идентификатору.

cemptyBasket() — очищает корзину.

isInBasket(item: Goods) — проверяет наличие товара в корзине.

`FormModel (FormModel.ts)`

Задача: Валидация и хранение данных формы заказа.

Атрибуты:

payment: string — способ оплаты.

email: string — email пользователя.

phone: string — телефон пользователя.

address: string — адрес доставки.

total: number — общая сумма заказа.

items: string[] — массив идентификаторов товаров в заказе.

formErrors: FormErrors — ошибки валидации формы.

Методы:

setOrderAddress(field, value) — сохраняет адрес.

validateOrder() — проверяет корректность введённого адреса и данных по оплате.

setOrderData(field, value) — сохраняет email и телефон пользователя.

validateContacts() — проверяет корректность контактных данных.

getOrderLot() — возвращает данные для отправки заказа на сервер.

- Классы View 

`Card (Card.ts)`

Задача: Отображение карточек товара.

Атрибуты:

_cardElement: HTMLElement — DOM-элемент карточки товара.

_cardCategory, _cardTitle, _cardImage, _cardPrice — элементы карточки, отображающие категорию, название, изображение и цену товара.

_colors: Record<string, string> — стили для категорий.

Методы:

setText(element, value) — устанавливает текстовое значение в элемент.

setPrice(value) — форматирует и отображает цену товара.

setCategory(value) — задаёт категорию товара, применяя соответствующий стиль.

render(data: Goods) — отрисовывает карточку товара с данными из объекта Goods.

`CardPreview (CardPreview.ts)`

Задача: Детальное отображение товара.

Атрибуты:

text: HTMLElement — описание товара.

button: HTMLButtonElement — кнопка "Купить" или "Удалить" из корзины.

data: Goods | null — данные текущего товара.

Методы:

render(data: Goods) — обновляет данные о товаре и кнопки в зависимости от состояния корзины (если товар находится в корзине, кнопка меняется на "Удалить").

`Basket (RecycleBin.ts)`

Задача: Отображение корзины покупок.

Атрибуты:

basket: HTMLElement — контейнер корзины.

basketList: HTMLElement — список товаров в корзине.

basketPrice: HTMLElement — элемент, который отображает общую стоимость товаров.

headerBasketCounter: HTMLElement — счетчик товаров в шапке сайта.

Методы:

renderHeaderBasketCounter(value) — обновляет счетчик товаров в шапке.

renderSumAllProducts(sumAll) — обновляет общую сумму товаров в корзине.

set items — сеттер для обновления списка товаров в корзине.

- Вспомогательные классы

`EventEmitter (events.ts)`

Задача: Управление событиями (реализация паттерна Наблюдатель).

Методы:

on(event, callback) — подписка на событие.

off(event, callback) — отписка от события.

emit(event, data) — генерация события.

trigger(event, context) — создает обработчик события.

`WebLarekApi (WebLarekApi.ts)`

Задача: Работа с API магазина.

Методы:

getProductsList() — загружает список товаров с сервера.

getOneProduct(id) — загружает данные одного товара по его идентификатору.

orderProducts(order) — отправляет данные заказа на сервер.

4. Взаимодействие компонентов
Открытие страницы: DataModel загружает товары через WebLarekApi и передаёт их в View.

Добавление в корзину: Пользователь добавляет товар в корзину, BasketModel обновляет данные, Basket отображает изменения.

Оформление заказа: Пользователь заполняет форму заказа, FormModel проверяет данные, Order и Contacts отображают форму для ввода данных.

Подтверждение заказа: WebLarekApi отправляет данные заказа на сервер, Success отображает сообщение об успешном заказе.

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
